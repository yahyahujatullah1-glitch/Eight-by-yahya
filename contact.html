<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Eight RP</title>
    
    <!-- Favicon -->
    <link rel="icon" href="https://i.ibb.co/3m8R27Q/1764065611411.png" type="image/x-icon">

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- === MOBILE MENU OVERLAY === -->
    <div class="menu-overlay" onclick="toggleMenu()"></div>

    <!-- === SIDEBAR MENU === -->
    <div class="side-menu" id="sideMenu">
        <div class="side-header"><span>MENU</span><i class="fa-solid fa-xmark close-btn" onclick="toggleMenu()"></i></div>
        <div class="side-links">
            <a href="index.html"><i class="fa-solid fa-house"></i> Home</a>
            <a href="rules.html"><i class="fa-solid fa-book-open"></i> Project Rules</a>
            <div class="menu-label">Legal</div>
            <a href="contact.html" class="active"><i class="fa-solid fa-envelope"></i> Contact Us</a>
            <a href="terms.html"><i class="fa-solid fa-gavel"></i> Terms of Use</a>
            <a href="privacy.html"><i class="fa-solid fa-shield-halved"></i> Privacy Policy</a>
        </div>
    </div>

    <!-- === NAVIGATION === -->
    <nav>
        <!-- UPDATED LOGO -->
        <a href="index.html" class="logo-img-wrap">
            <img src="https://i.ibb.co/5xcxFvrk/1764426582405-removebg-preview-1-2-removebg-preview.png" alt="Eight RP Logo" class="nav-logo">
        </a>
        
        <div class="nav-links desktop-only">
            <a href="index.html">Back to Home</a>
            <a href="privacy.html">Privacy Policy</a>
        </div>
        <div class="menu-btn mobile-only" onclick="toggleMenu()">
            <i class="fa-solid fa-bars-staggered"></i>
        </div>
    </nav>

    <!-- === CONTENT === -->
    <div class="page-header-wrap">
        <h1 class="page-title">Contact Support</h1>
        <p style="color:#666; font-style: italic;">Bans, Bugs, and General Inquiries</p>
    </div>

    <div class="container">
        <!-- Added ID 'contactForm' for JS -->
        <form class="contact-form" id="contactForm" onsubmit="event.preventDefault(); sendMessage();">
            <div class="input-group">
                <label>In-Game Name / Discord ID</label>
                <input type="text" id="c-name" placeholder="e.g. User#1234" required>
            </div>
            
            <div class="input-group">
                <label>Email Address</label>
                <input type="email" id="c-email" placeholder="email@example.com" required>
            </div>

            <div class="input-group">
                <label>Subject</label>
                <select id="c-subject">
                    <option value="General Inquiry">General Inquiry</option>
                    <option value="Ban Appeal">Ban Appeal</option>
                    <option value="Bug Report">Bug Report</option>
                    <option value="Donation Issue">Donation Issue</option>
                </select>
            </div>

            <div class="input-group">
                <label>Message</label>
                <textarea id="c-message" rows="6" placeholder="Describe your issue..." required></textarea>
            </div>

            <button type="submit" class="btn btn-primary full-width" id="sendBtn">Send Message</button>
        </form>
    </div>

    <!-- === FOOTER === -->
    <footer class="global-footer">
        <div class="footer-links">
            <a href="index.html">Home</a> | <a href="terms.html">Terms</a> | <a href="privacy.html">Privacy</a>
        </div>
        <div class="disclaimer"><p>&copy; 2025 Eight RP Team. All Rights Reserved.</p></div>
    </footer>

    <script src="js/script.js"></script>

    <!-- CONTACT LOGIC -->
    <script>
        async function sendMessage() {
            const btn = document.getElementById('sendBtn');
            const originalText = btn.innerText;
            
            // 1. Get Values
            const name = document.getElementById('c-name').value;
            const email = document.getElementById('c-email').value;
            const subject = document.getElementById('c-subject').value;
            const message = document.getElementById('c-message').value;

            // 2. Show Loading
            btn.innerText = "Sending...";
            btn.disabled = true;
            btn.style.opacity = "0.7";

            // 3. Send to API
            try {
                const response = await fetch('/api/contact', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email, subject, message })
                });

                if (response.ok) {
                    alert("Message Sent! We will check it shortly.");
                    document.getElementById('contactForm').reset();
                } else {
                    alert("Error sending message. Please try again.");
                }
            } catch (error) {
                console.error(error);
                alert("Failed to connect to server.");
            }

            // 4. Reset Button
            btn.innerText = originalText;
            btn.disabled = false;
            btn.style.opacity = "1";
        }
    </script>
</body>
</html>
